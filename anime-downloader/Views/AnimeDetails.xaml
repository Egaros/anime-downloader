<UserControl
    x:Class="anime_downloader.Views.AnimeDetails"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:classes="clr-namespace:anime_downloader.Classes"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:xaml="clr-namespace:anime_downloader.Classes.Xaml"
    Loaded="AnimeDetails_OnLoaded"
    d:DesignHeight="360"
    d:DesignWidth="680"
    mc:Ignorable="d">
    <UserControl.Resources>
        <xaml:KeyValueConverter x:Key="Converter" />
        <xaml:MalIdVisibilityConverter x:Key="VisbilityConverter" />
        <Style x:Key="RadioStyle" TargetType="{x:Type RadioButton}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="FontFamily" Value="{StaticResource MainFont}" />
        </Style>
        <Style x:Key="LabelStyle" TargetType="{x:Type Label}">
            <Setter Property="HorizontalAlignment" Value="Left" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="FontSize" Value="16" />
            <Setter Property="FontFamily" Value="{StaticResource MainFont}" />
        </Style>
        <Style x:Key="ValueStyle" TargetType="Control">
            <Setter Property="HorizontalAlignment" Value="Left" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="FontFamily" Value="{StaticResource MainFont}" />
        </Style>
    </UserControl.Resources>
    <Grid Name="DetailGrid" d:DataContext="{d:DesignInstance Type=classes:Anime}">
        <Grid.Background>White</Grid.Background>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="5*" />
                <RowDefinition Height="1*" />
            </Grid.RowDefinitions>
            <Grid Grid.Row="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="1*" />
                    <RowDefinition Height="3*" />
                    <RowDefinition Height="1*" />
                </Grid.RowDefinitions>
                <Grid x:Name="TextboxGrid" Grid.Row="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="1*" />
                        <RowDefinition Height="1*" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="11*" />
                    </Grid.ColumnDefinitions>

                    <!--  Name  -->
                    <Label
                        x:Name="NameLabel"
                        Grid.Row="0"
                        Grid.Column="0"
                        Style="{StaticResource LabelStyle}"
                        Content="Name: "
                        ToolTip="A hopefully close approximation to the name of the show." />
                    <TextBox
                        x:Name="NameTextbox"
                        Grid.Row="0"
                        Grid.Column="1"
                        Height="27"
                        VerticalAlignment="Center"
                        FontSize="18.667"
                        GotFocus="NameTextbox_GotFocus"
                        KeyDown="EnterApply"
                        Loaded="NameTextbox_OnLoaded"
                        Text="{Binding Name}"
                        TextWrapping="Wrap" />

                    <!--  Episode  -->
                    <Label
                        x:Name="EpisodeLabel"
                        Grid.Row="1"
                        Grid.Column="0"
                        Style="{StaticResource LabelStyle}"
                        Content="Episode: "
                        ToolTip="The last episode you've watched." />
                    <TextBox
                        x:Name="EpisodeTextbox"
                        Grid.Row="1"
                        Grid.Column="1"
                        Height="27"
                        VerticalAlignment="Center"
                        FontSize="18.667"
                        GotFocus="EpisodeTextbox_GotFocus"
                        KeyDown="EnterApply"
                        PreviewTextInput="EpisodeTextbox_PreviewTextInput"
                        Text="{Binding Episode}"
                        TextWrapping="Wrap" />
                </Grid>
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="10*" />
                        <ColumnDefinition Width="3*" />
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*" />
                            <ColumnDefinition Width="4*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1*" />
                            <RowDefinition Height="1*" />
                            <RowDefinition Height="1*" />
                            <RowDefinition Height="1*" />
                            <RowDefinition Height="1*" />
                            <RowDefinition Height="1*" />
                        </Grid.RowDefinitions>

                        <!--  Status  -->
                        <Label
                            Grid.Row="0"
                            Grid.Column="0"
                            Style="{DynamicResource LabelStyle}"
                            Content="Status: "
                            ToolTip="What state you're currently at in regards to watching the show." />
                        <Grid
                            x:Name="StatusContainerGrid"
                            Grid.Row="0"
                            Grid.Column="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition Width="1*" />
                            </Grid.ColumnDefinitions>

                            <RadioButton
                                x:Name="StatusFinishedRadio"
                                Grid.Column="0"
                                Style="{DynamicResource RadioStyle}"
                                Content="Finished"
                                IsChecked="{Binding Path=Status, Converter={StaticResource Converter}, ConverterParameter=Finished}" />
                            <RadioButton
                                x:Name="StatusWatchingRadio"
                                Grid.Column="1"
                                Style="{DynamicResource RadioStyle}"
                                Content="Watching"
                                IsChecked="{Binding Path=Status, Converter={StaticResource Converter}, ConverterParameter=Watching}" />
                            <RadioButton
                                x:Name="StatusOnHoldRadio"
                                Grid.Column="2"
                                Style="{DynamicResource RadioStyle}"
                                Content="On Hold"
                                IsChecked="{Binding Path=Status, Converter={StaticResource Converter}, ConverterParameter='On Hold'}" />
                            <RadioButton
                                x:Name="StatusDroppedRadio"
                                Grid.Column="3"
                                Style="{DynamicResource RadioStyle}"
                                Content="Dropped"
                                IsChecked="{Binding Path=Status, Converter={StaticResource Converter}, ConverterParameter=Dropped}" />
                        </Grid>

                        <!--  Resolution  -->
                        <Label
                            x:Name="ResolutionLabel"
                            Grid.Row="1"
                            Grid.Column="0"
                            Style="{DynamicResource LabelStyle}"
                            Content="Resolution: "
                            ToolTip="The quality that will be downloaded." />
                        <Grid
                            x:Name="ResolutionContainerGrid"
                            Grid.Row="1"
                            Grid.Column="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition Width="1*" />
                            </Grid.ColumnDefinitions>
                            <RadioButton
                                x:Name="Resolution480"
                                Grid.Column="0"
                                Style="{DynamicResource RadioStyle}"
                                Content="480"
                                IsChecked="{Binding Path=Resolution, Converter={StaticResource Converter}, ConverterParameter=480}" />
                            <RadioButton
                                x:Name="Resolution780"
                                Grid.Column="1"
                                Style="{DynamicResource RadioStyle}"
                                Content="720"
                                IsChecked="{Binding Path=Resolution, Converter={StaticResource Converter}, ConverterParameter=720}" />
                            <RadioButton
                                x:Name="Resolution1080"
                                Grid.Column="2"
                                Style="{DynamicResource RadioStyle}"
                                Content="1080"
                                IsChecked="{Binding Path=Resolution, Converter={StaticResource Converter}, ConverterParameter=1080}" />
                        </Grid>

                        <!--  Subgroup  -->
                        <Label
                            x:Name="SubgroupLabel"
                            Grid.Row="2"
                            Grid.Column="0"
                            Style="{DynamicResource LabelStyle}"
                            Content="Only from:"
                            ToolTip="Only download from animes that have this subgroup." />
                        <ComboBox
                            x:Name="SubgroupComboBox"
                            Grid.Row="2"
                            Grid.Column="1"
                            Width="90"
                            Height="25"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center">
                            <ComboBoxItem Content="(None)" IsSelected="True" />
                        </ComboBox>

                        <!--  Rating  -->
                        <Label
                            x:Name="RatingLabel"
                            Grid.Row="3"
                            Grid.Column="0"
                            Style="{DynamicResource LabelStyle}"
                            Content="Rating: "
                            ToolTip="What you would rate the show (out of 10?)" />
                        <TextBox
                            x:Name="RatingTextbox"
                            Grid.Row="3"
                            Grid.Column="1"
                            Width="60"
                            Height="25"
                            HorizontalAlignment="Left"
                            FontSize="18.667"
                            GotFocus="EpisodeTextbox_GotFocus"
                            KeyDown="EnterApply"
                            PreviewTextInput="RatingTextbox_PreviewTextInput"
                            Text="{Binding Rating}" />

                        <!--  Airing  -->
                        <Label
                            x:Name="AiringLabel"
                            Grid.Row="4"
                            Grid.Column="0"
                            Style="{DynamicResource LabelStyle}"
                            Content="Airing: "
                            ToolTip="Whether the anime is currently airing and will be included on the search for new episodes." />
                        <CheckBox
                            x:Name="AiringCheckbox"
                            Grid.Row="4"
                            Grid.Column="1"
                            Style="{DynamicResource ValueStyle}"
                            IsChecked="{Binding Airing}" />

                        <!--  Name Strict  -->
                        <Label
                            Grid.Row="5"
                            Grid.Column="0"
                            Style="{DynamicResource LabelStyle}"
                            Content="Name Strict: "
                            ToolTip="Whether searching for this anime should match exactly what the name is instead of picking up partial matches." />
                        <CheckBox
                            x:Name="NameStrictCheckbox"
                            Grid.Row="5"
                            Grid.Column="1"
                            Style="{DynamicResource ValueStyle}"
                            IsChecked="{Binding NameStrict}" />
                    </Grid>
                    <Grid Grid.Column="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                    </Grid>
                </Grid>
            </Grid>
            <DockPanel Grid.Row="1">
                <Button
                    x:Name="OpenLastButton"
                    Width="auto"
                    Style="{DynamicResource ConfirmationButtonStyle}"
                    Click="OpenLastButton_OnClick"
                    Content="Last episode" />

                <DockPanel
                    x:Name="MalDockPanel"
                    Margin="30,5"
                    Background="LightCyan"
                    Visibility="{Binding MyAnimeList.Id, Converter={StaticResource VisbilityConverter}}">
                    <Label VerticalAlignment="Center" Content="MyAnimeList" />
                    <Button
                        Width="auto"
                        Margin="5"
                        Style="{DynamicResource ConfirmationButtonStyle}"
                        Click="GotoMalButton_OnClick"
                        Content="Page" />
                    <Button
                        x:Name="RefreshMalButton"
                        Width="auto"
                        Margin="5"
                        Style="{DynamicResource ConfirmationButtonStyle}"
                        Click="RefreshMalButton_OnClick"
                        Content="Refresh data" />
                    <Button
                        Width="auto"
                        Margin="5"
                        Style="{DynamicResource ConfirmationButtonStyle}"
                        Click="ClearMalButton_OnClick"
                        Content="Clear data" />
                </DockPanel>

                <Button
                    x:Name="SubmitButton"
                    HorizontalAlignment="Right"
                    Style="{DynamicResource ConfirmationButtonStyle}"
                    Content="Add" />

            </DockPanel>
        </Grid>
    </Grid>
</UserControl>